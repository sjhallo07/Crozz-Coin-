# Example of using Sealed Secrets for encryption at rest
# Install Sealed Secrets controller: kubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/controller.yaml
# 
# To create a sealed secret:
# 1. Create a regular secret: kubectl create secret generic mysecret --dry-run=client --from-literal=key=value -o yaml > secret.yaml
# 2. Seal it: kubeseal --format=yaml < secret.yaml > sealed-secret.yaml
# 3. Apply: kubectl apply -f sealed-secret.yaml
#
# Example sealed secret (this is encrypted and safe to commit to git)
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: crozz-backend-secrets-sealed
  namespace: crozz-coin
spec:
  encryptedData:
    # These values are encrypted by the Sealed Secrets controller
    # Replace with your actual sealed values
    SUI_ADMIN_PRIVATE_KEY: AgA...encrypted...value...
    ADMIN_TOKEN: AgB...encrypted...value...
    JWT_SECRET: AgC...encrypted...value...
  template:
    metadata:
      name: crozz-backend-secrets
      namespace: crozz-coin
    type: Opaque
---
# Instructions to seal your secrets:
# 
# 1. Install kubeseal CLI:
#    wget https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/kubeseal-0.24.0-linux-amd64.tar.gz
#    tar -xvzf kubeseal-0.24.0-linux-amd64.tar.gz
#    sudo install -m 755 kubeseal /usr/local/bin/kubeseal
#
# 2. Create your secret file:
#    kubectl create secret generic crozz-backend-secrets \
#      --from-literal=SUI_ADMIN_PRIVATE_KEY="ed25519:YOUR_KEY" \
#      --from-literal=ADMIN_TOKEN="your-secure-token" \
#      --from-literal=JWT_SECRET="your-jwt-secret" \
#      --dry-run=client -o yaml > crozz-secrets.yaml
#
# 3. Seal the secret:
#    kubeseal --format=yaml < crozz-secrets.yaml > crozz-secrets-sealed.yaml
#
# 4. Apply the sealed secret:
#    kubectl apply -f crozz-secrets-sealed.yaml
#
# The controller will automatically decrypt it and create the actual Secret object
